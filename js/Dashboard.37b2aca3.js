(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dashboard"],{"1dde":function(t,e,a){var n=a("d039"),s=a("b622"),r=a("2d00"),o=s("species");t.exports=function(t){return r>=51||!n((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"3e65":function(t,e,a){},4533:function(t,e,a){},"4de4":function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").filter,r=a("1dde"),o=r("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,e,a){var n=a("861d"),s=a("e8b5"),r=a("b622"),o=r("species");t.exports=function(t,e){var a;return s(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?n(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7277:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavInBoard"),a("Board")],1)},s=[],r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"inBoard"},[a("button",[t._v("name Board")])])}],i={name:"inBoard"},c=i,l=a("2877"),u=Object(l["a"])(c,r,o,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"board"}},t._l(t.board,(function(e){return a("div",{key:e.name,staticClass:"board__list dropzone",attrs:{"data-board":e.name}},[a("div",{staticClass:"board__header"},[a("h3",[t._v(t._s(e.h3))]),a("button",{staticClass:"showMenuBoardButton",on:{click:function(t){e.popOver=!e.popOver}}},[a("i",{staticClass:"fas fa-ellipsis-h"})]),e.popOver?a("BoardPopOver",{attrs:{list:e},on:{close:function(t){e.popOver=!e.popOver},addTask:t.popAddTask}}):t._e()],1),a("button",{staticClass:"addNewTaskButton",on:{click:t.popAddTask}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Добавить карточку\n        ")]),a("div",{staticClass:"tasks"},t._l(e.tasks,(function(n){return a("Task",{key:n.hash,attrs:{id:n.hash,task:n,list:e},on:{deleteT:function(e){return t.deleteTask(e)}}})})),1)])})),0)},f=[],v=(a("4de4"),a("b0c0"),a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pop-over"},[a("div",{staticClass:"pop__header"},[a("h3",[t._v("Действия со списком")]),a("button",{staticClass:"closePop",on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"pop__body"},[a("ul",{staticClass:"pop__ul"},[a("li",{staticClass:"pop__li",on:{click:function(e){return t.$emit("addTask")}}},[t._v("Добавить задачу")])])])])}),h=[],m={name:"BoardPopOver",data:function(){return{}},props:["list"]},b=m,_=(a("d81b"),Object(l["a"])(b,v,h,!1,null,null,null)),k=_.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"taskWrapper",attrs:{draggable:"true",ondragstart:"event.dataTransfer.setData('text/plain',null)"},on:{mouseover:function(e){t.task.showEdit=!0},mouseleave:function(e){t.task.showEdit=!1}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task.textarea,expression:"task.textarea"}],attrs:{name:"text",placeholder:"Введите заголовок для этой задачи"},domProps:{value:t.task.textarea},on:{input:function(e){e.target.composing||t.$set(t.task,"textarea",e.target.value)}}}),t.task.showEdit?a("button",{staticClass:"taskEdit",on:{click:function(e){t.task.popOver=!t.task.popOver}}},[a("i",{staticClass:"far fa-edit"})]):t._e(),t.task.popOver?a("div",{staticClass:"pop-over"},[a("div",{staticClass:"pop__header"},[a("h3",[t._v("Действия со списком")]),a("button",{staticClass:"closePop",on:{click:function(e){t.task.popOver=!1}}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"pop__body"},[a("ul",[a("li",{on:{click:function(e){return t.$emit("deleteT",{hash:t.task.hash,boardName:t.list.name})}}},[t._v("Удалить")]),a("li",{on:{click:function(e){t.popupMove=!t.popupMove}}},[t._v("Переместить")])])]),t.popupMove?a("div",{staticClass:"popupMoveBlock"},[a("div",{staticClass:"pop__header"},[a("h3",[t._v("Перемещение в board")]),a("button",{staticClass:"closePop",on:{click:function(e){t.popupMove=!t.popupMove}}},[a("i",{staticClass:"fas fa-times"})])]),t._m(0)]):t._e()]):t._e()])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pop__body"},[a("select",{attrs:{name:"select"}},[a("option",{attrs:{value:"newTask",selected:""}},[t._v("Нужно сделать")]),a("option",{attrs:{value:"inProgress"}},[t._v("В процессе")]),a("option",{attrs:{value:"done"}},[t._v("Готово")])])])}],y={name:"Task",data:function(){return{popupMove:!1}},props:{task:Object,list:Object},mounted:function(){console.log(this.list)}},x=y,O=(a("fcc1"),Object(l["a"])(x,g,C,!1,null,null,null)),w=O.exports,E={name:"Board",data:function(){return{board:[{popOver:!1,name:"newTask",h3:"Нужно сделать",tasks:[{showEdit:!1,popOver:!1,hash:1,textarea:"123"}]},{popOver:!1,name:"inProgress",h3:"В процессе",tasks:[]},{popOver:!1,name:"done",h3:"Готово",tasks:[]}],dragged:null}},components:{BoardPopOver:k,Task:w},methods:{initDND:function(){document.addEventListener("drag",(function(t){}),!1),document.addEventListener("dragstart",(function(t){this.dragged=t.target,t.target.style.opacity=.5}),!1),document.addEventListener("dragend",(function(t){t.target.style.opacity=""}),!1),document.addEventListener("dragover",(function(t){t.preventDefault()}),!1),document.addEventListener("dragenter",(function(t){t.target.classList.contains("dropzone")&&(t.target.style.background="purple")}),!1),document.addEventListener("dragleave",(function(t){t.target.classList.contains("dropzone")&&(t.target.style.background="")}),!1),document.addEventListener("drop",(function(t){t.preventDefault(),console.log("сброс груза"),t.target.classList.contains("dropzone")&&(t.target.style.background="",this.dragged.parentNode.removeChild(this.dragged),t.target.appendChild(this.dragged))}),!1)},popAddTask:function(t){var e=this.board.filter((function(e){return e.name===t.target.closest(".board__list").dataset.board}));e[0].tasks.push({showEdit:!1,hash:Date.now(),textarea:""});var a=t.target.closest(".board__list"),n=a.querySelector(".closePop");console.log(n),null!==n&&n.click()},deleteTask:function(t){var e=t.hash,a=t.boardName,n=this.board.filter((function(t){return t.name===a})),s=this.removeItemFromArray(n[0].tasks,e),r=n[0].tasks.indexOf(s[0]);n[0].tasks.splice(r,1)},removeItemFromArray:function(t,e){return t.filter((function(t){return t.hash===e}))}},mounted:function(){var t=this;setTimeout((function(){t.initDND()}),2e3)}},T=E,B=(a("b2e8"),Object(l["a"])(T,p,f,!1,null,null,null)),A=B.exports,D={name:"Dashboard",data:function(){return{name:"Dashboard"}},components:{NavInBoard:d,Board:A}},M=D,$=Object(l["a"])(M,n,s,!1,null,null,null);e["default"]=$.exports},8418:function(t,e,a){"use strict";var n=a("c04e"),s=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var o=n(e);o in t?s.f(t,o,r(0,a)):t[o]=a}},"863e":function(t,e,a){},a434:function(t,e,a){"use strict";var n=a("23e7"),s=a("23cb"),r=a("a691"),o=a("50c4"),i=a("7b0b"),c=a("65f0"),l=a("8418"),u=a("1dde"),d=u("splice"),p=Math.max,f=Math.min,v=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var a,n,u,d,m,b,_=i(this),k=o(_.length),g=s(t,k),C=arguments.length;if(0===C?a=n=0:1===C?(a=0,n=k-g):(a=C-2,n=f(p(r(e),0),k-g)),k+a-n>v)throw TypeError(h);for(u=c(_,n),d=0;d<n;d++)m=g+d,m in _&&l(u,d,_[m]);if(u.length=n,a<n){for(d=g;d<k-n;d++)m=d+n,b=d+a,m in _?_[b]=_[m]:delete _[b];for(d=k;d>k-n+a;d--)delete _[d-1]}else if(a>n)for(d=k-n;d>g;d--)m=d+n-1,b=d+a-1,m in _?_[b]=_[m]:delete _[b];for(d=0;d<a;d++)_[d+g]=arguments[d+2];return _.length=k-n+a,u}})},b0c0:function(t,e,a){var n=a("83ab"),s=a("9bf2").f,r=Function.prototype,o=r.toString,i=/^\s*function ([^ (]*)/,c="name";n&&!(c in r)&&s(r,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},b2e8:function(t,e,a){"use strict";a("4533")},b727:function(t,e,a){var n=a("0366"),s=a("44ad"),r=a("7b0b"),o=a("50c4"),i=a("65f0"),c=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,u=4==t,d=6==t,p=7==t,f=5==t||d;return function(v,h,m,b){for(var _,k,g=r(v),C=s(g),y=n(h,m,3),x=o(C.length),O=0,w=b||i,E=e?w(v,x):a||p?w(v,0):void 0;x>O;O++)if((f||O in C)&&(_=C[O],k=y(_,O,g),t))if(e)E[O]=k;else if(k)switch(t){case 3:return!0;case 5:return _;case 6:return O;case 2:c.call(E,_)}else switch(t){case 4:return!1;case 7:c.call(E,_)}return d?-1:l||u?u:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},d81b:function(t,e,a){"use strict";a("3e65")},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fcc1:function(t,e,a){"use strict";a("863e")}}]);
//# sourceMappingURL=Dashboard.37b2aca3.js.map